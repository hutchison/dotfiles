# Formate
#
# Datum: yyyy-mm-dd @ hh:mm
set date_format = "%F ★ %H:%M"
# Der Index (die Übersicht):
# - 3 Stellen für die „current message number“
# - die Statusflags
# - das Datum im obigen Format
# - Name des Autors oder der Liste (min. und max. 20 Stellen)
# - der Betreff
set index_format = "%3C %Z %D %-20.20L %s"
# Statusbar
set status_chars  = " *%A"
set status_format = "───[ Folder: %f ]───[%r%m messages%?n? (%n new)?%?d? (%d to delete)?%?t? (%t tagged)? ]───%>─%?p?( %p postponed )?───"

# Dateien
#
# Da sind die Mails:
set folder = ~/Mail
# und das sind die relevanten Ordner:
set spoolfile = "+gmail/INBOX"
set mbox = "+gmail/archive"
set postponed = "+gmail/drafts"
# eine kleine Feineinstellung:
set mbox_type = Maildir
# Die alias-Datei (quasi mein Adressbuch).
# Vielleicht sollte ich auch hier mal auf abook umsteien.
#set alias_file = ~/.mutt/aliases
# Diese muss auch eingelesen werden, sonst funktioniert’s nicht.
#source ~/.mutt/aliases
# Datei für Zertifikate:
set certificate_file = ~/.mutt/certificates
# Datei für die Signatur (~/.signature wäre auch der default Wert):
set signature = ~/.signature
# Ordner für temporäre Dateien:
set tmpdir = ~/tmp

set header_cache = ~/.mutt/cache/headers
set message_cachedir = ~/.mutt/cache/bodies
set mailcap_path = ~/.mutt/mailcap

# Senden
#
# Von wem?
set from = "martin.darmuentzel@gmail.com"
# Womit?
set sendmail = "/usr/bin/msmtp -a gmail"
# One does not simply wait for msmtp to finish:
set sendmail_wait = 0
# Gesendete E-Mails nicht speichern, das macht Google Mail allein:
unset record

# Farben:
#
source ~/.mutt/hutch-color.muttrc
# Solarized
#source ~/.mutt/solarized/mutt-colors-solarized-dark-256.muttrc
# Zenburnt ist auch ganz nett:
#source ~/.mutt/zenburnt-color.muttrc

# Befehle
#
# der Standardeditor:
set editor = vim

# Einstellungen
#
# E-Mails von der spool-Mailbox zur mbox verschieben?
set move = no
# die übergeile Sortierfunktion:
set sort=threads
# und sonst sortieren wir so:
set sort_aux = reverse-last-date-received
# Sidebar
set sidebar_delim   = '  │'
set sidebar_visible = yes
set sidebar_width   = 24

# Pager-Einstellung
#
# Zeige immer den Pager und zwar wie viele Zeilen?
set pager_index_lines = 10
# nicht automatisch zur nächsten Nachricht springen:
set pager_stop
# in Menüs scrollen:
set menu_scroll
# Wörter beim wrappen nicht aufspalten:
set smart_wrap
# Tilden wie in vim:
set tilde
# Keine „+“ Zeichen:
unset markers
# wenn möglich den Namen aus der Alias-Datei anzeigen:
set reverse_alias
# "old"? who cares?!
set mark_old = no

# E-Mails schreiben
#
# mein richtiger Name
set realname = "Martin Darmüntzel"
# beim Erstellen Zieladresse und Betreff erfragen:
set noautoedit
# Header editieren macht Spaß:
set edit_headers
# gleich editieren, wenn wir antworten:
# (macht aber irgendwie keinen Unterschied)
set fast_reply
# Zitierüberschrift:
set attribution = "Zur Sternzeit %d schrieb %n:"
# dem Reply to: Header antworten:
set reply_to
# für den Fall der Fälle antworten wir unter richtigem Namen:
set reverse_name
# in Antworten automatisch zitieren:
set include
# auch in Weiterleitungen die Nachricht einbinden:
set forward_quote

# Header Einstellungen
#
# erstmal alle ignorieren:
ignore *
# und diese dann doch anzeigen:
unignore from to cc date subject X-Mailer User-Agent reply-to
# und zwar in dieser Reihenfolge:
hdr_order from to cc date subject

# Hotkeys
#
# ein paar Einstellungen vorweg:
set wait_key = no
set delete
set confirmappend = no
set quit
## im Pager:
bind pager 'w' previous-page
bind pager 'j' next-line
bind pager 'k' previous-line
## im Index:
# Threads ein-/ausklappen:
bind index <space> collapse-thread
# ^b ist urlview:
macro index \cb |urlview\n
macro pager \cb |urlview\n
# E-Mails durchsuchen:
macro index B "<limit>~b " "search message bodies"
# sofort zur Inbox gehen:
macro index I "<change-folder>!<enter>" "go to inbox"
# Mails archivieren:
macro index A "<save-message>$mbox<enter>" "archive to mbox"
# Sync email
macro index O "<shell-escape>offlineimap<enter>"           "run offlineimap to sync all mail"
macro index o "<shell-escape>offlineimap -qf INBOX<enter>" "run offlineimap to sync inbox"
# Navigation in der sidebar:
bind index,pager <down>   sidebar-next
bind index,pager <up>     sidebar-prev
bind index,pager <right>  sidebar-open

# die abonnierten Mailinglisten:
subscribe raumzeitlabor hackerspace-rostock
# in der sidebar angezeigte Mailboxen:
mailboxes = +gmail/INBOX \
            +gmail/MacHackers \
            +gmail/archive \
            +gmail/sent \
            +gmail/drafts

# generelle Servereinstellungen
#
# wie oft schauen wie nach, ob neue Mails da sind?
set mail_check = 60
# die aktuelle Mailbox ist aber öfter dran:
set timeout = 10
